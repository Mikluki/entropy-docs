<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/dracula.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />

    <!-- Custom fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --default-left-width: 6fr;
        --default-right-width: 4fr;
        --column-gap: 2rem;
      }

      .reveal h1,
      .reveal h2,
      .reveal h3,
      .reveal h4,
      .reveal h5,
      .reveal h6 {
        font-family: "Roboto Mono", monospace;
      }

      .reveal {
        font-size: 26px; /* Scales all fonts proportionally */
      }

      .reveal h2 {
        font-size: 2em; /* Default is usually 2.5em */
      }

      .reveal h3 {
        font-size: 1.4em; /* Default is usually 1.8em */
        color: #ff79c6;
      }

      .reveal h4 {
        font-size: 1.1em; /* Default is usually 1.8em */
        color: #50fa7b;
      }

      .reveal h5 {
        font-size: 1.4em; /* Default is usually 1.8em */
      }

      .scale {
        transform: scale(var(--scale, 1));
        transform-origin: center;
      }

      /* Two column layout */
      .two-column {
        display: grid !important;
        grid-template-columns: var(--left-width, var(--default-left-width)) var(
            --right-width,
            var(--default-right-width)
          );
        gap: var(--column-gap);
        align-items: start;
        height: 100%;
      }

      .left-column {
        padding-right: 1rem;
      }

      .right-column {
        padding-left: 1rem;
        font-size: 0.85em;
        color: #f8f8f2;
      }

      /* Responsive: stack columns on small screens */
      @media (max-width: 450px) {
        .two-column {
          grid-template-columns: 1fr !important;
          gap: 1rem;
        }

        .left-column,
        .right-column {
          padding: 0;
        }
      }

      /* Right column specific styling */
      .right-column h4 {
        color: #ff79c6;
        font-size: 1.1em;
        margin-bottom: 0.5em;
        border-bottom: 2px solid #6272a4;
        padding-bottom: 0.3em;
      }

      .metric {
        background: #44475a;
        color: #f8f8f2;
        padding: 0.5em;
        margin: 0.5em 0;
        border-radius: 4px;
        text-align: center;
        font-weight: bold;
      }

      .placeholder {
        background: #44475a;
        border: 2px dashed #6272a4;
        padding: 1em;
        text-align: center;
        color: #f8f8f2;
        font-style: italic;
        margin: 0.5em 0;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-markdown="slides/slides.md"
          data-separator="^\n---\n"
          data-separator-vertical="^\n--\n"
        ></section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: true,

        // Enable HTML in markdown
        markdown: {
          smartypants: true,
        },

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });

      // Handle dynamic column splits
      function updateColumnSplits() {
        const twoColumnElements =
          document.querySelectorAll(".two-column[split]");

        twoColumnElements.forEach((element) => {
          const splitValue = element.getAttribute("split");
          const leftPercent = parseInt(splitValue);

          if (leftPercent >= 10 && leftPercent <= 90) {
            const rightPercent = 100 - leftPercent;
            element.style.setProperty("--left-width", `${leftPercent}fr`);
            element.style.setProperty("--right-width", `${rightPercent}fr`);
          }
        });
      }

      // Update splits when reveal.js is ready and when slides change
      Reveal.on("ready", updateColumnSplits);
      Reveal.on("slidechanged", updateColumnSplits);
    </script>
  </body>
</html>
